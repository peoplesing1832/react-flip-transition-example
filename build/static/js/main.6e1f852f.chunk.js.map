{"version":3,"sources":["page/Matrix/index.js","page/TodoList/index.js","page/Home/index.js","temp/util/noop.js","temp/util/checkType.js","temp/TransitionGroup.js","temp/TransitionQueue.js","temp/Transition.js","temp/TransitionFLIPS.js","temp/util/getReact.js","temp/util/getX.js","temp/util/getY.js","temp/util/getW.js","temp/util/getH.js","temp/util/getParent.js","temp/util/getStyles.js","temp/util/createAnimation.js","temp/TransitionFLIP.js","page/Staggered/index.js","App.js","serviceWorker.js","index.js"],"names":["Matrix","useState","arr","i","push","matrix","setMatrix","className","onClick","prev","shuffle","wrapClassName","duration","map","m","flipId","key","TodoList","id","uuid","name","list","setList","str","window","prompt","transitionStyles","leave","opacity","leaveing","transform","enter","entering","li","filter","item","Home","to","noop","isFunc","fn","Object","prototype","toString","call","isObj","obj","isNum","num","isUnd","data","TransitionContext","React","animations","register","props","TransitionQueueContext","STATUS","UNMOUNTED","ENTER","ENTERING","LEAVE","LEAVEING","Transition","display","timingFunction","_duration","delay","_delay","unmount","animation","_animation","appear","children","onLeave","onEnter","useContext","_initStatus","setAnimation","firstMount","useRef","nextStatus","prevStatus","timer","ID","initStatus","current","status","setStatus","setDelay","displayStyles","setDisplayStyles","handleTransitionTime","time","callback","setTimeout","updateStatus","useEffect","milliseconds","clearTimeout","statusStyles","transitionStyle","transition","prevStyles","style","only","FLIPSContext","catchStyles","Map","catchAnimations","animationOption","TransitionFLIPS","inOutDuration","easing","fill","wrap","_children","staggerReverse","interval","handleLeave","setChildren","prevChildren","getMap","create","childs","c","total","length","forEach","child","index","nextChildren","prevChildrenMap","nextChildrenMap","next","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","mergeMap","keys","hasKeyByNew","undefined","hasKeyByPrev","isNew","isDelete","isNeverChange","prevProps","_transitionStyles","_index","_total","_interval","_reverse","_onLeave","initChildren","childNode","values","wrapChildNode","Provider","value","getRect","ele","getBoundingClientRect","getX","prevRect","nextRect","x","getY","y","getW","nextWidth","width","getH","nextHeight","height","getParent","el","parentNode","getStyles","backgroundColor","getComputedStyle","createAnimation","keyframes","options","effect","KeyframeEffect","Animation","document","timeline","TransitionFLIP","reverse","selfRef","FLIPID","flipEle","catchAnimation","get","playState","_isPlayed","parent","parentRect","rect","styles","set","finish","force","useLayoutEffect","catchRect","pbc","cbc","w","h","staggerDelay","animationKeyframes","prevTransformStyle","animationOptions","onfinish","play","ref","Staggered","focus","setFocus","marginBottom","App","exact","path","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.6e1f852f.chunk.js","sourcesContent":["import React, {\n  useState,\n} from 'react';\nimport {\n  shuffle\n} from 'lodash';\nimport {\n  TransitionFLIP,\n  TransitionFLIPS\n} from 'react-flip-transition';\nimport './index.css';\n\nconst Matrix = () => {\n\n  const [matrix, setMatrix] = useState(() => {\n    let arr = [];\n    for (let i = 0; i < 49; i++) {\n      arr.push(i);\n    }\n    return arr;\n  });\n\n  return (\n    <>\n      <div className=\"matrix-container\">\n        <button onClick={() => {\n          setMatrix((prev) => [...shuffle(prev)]);\n        }}>乱序</button>\n        <TransitionFLIPS\n          wrapClassName=\"matrix\"\n          duration={500}\n        >\n          {\n            matrix && matrix.map((m) => (\n              <TransitionFLIP flipId={m} key={m}>\n                <div className=\"matrix-item\">{ m }</div>\n              </TransitionFLIP>\n            ))\n          }\n        </TransitionFLIPS>\n      </div>\n    </>\n\n  )\n}\n\nexport default Matrix;\n","import React, {\n  useState,\n} from 'react';\nimport { v4 as uuid } from 'uuid';\nimport {\n  TransitionFLIP,\n  TransitionFLIPS,\n} from 'react-flip-transition'\nimport './index.css';\nimport {\n  shuffle\n} from 'lodash';\n\nconst TodoList = () => {\n\n  const [list, setList] = useState([\n    {\n      id: uuid(),\n      name: '1. 西尔莎罗南'\n    },\n    {\n      id: uuid(),\n      name: '2. 艾玛沃森'\n    },\n    {\n      id: uuid(),\n      name: '3. 娜塔丽波特曼'\n    },\n    {\n      id: uuid(),\n      name: '4. 艾伦佩吉'\n    },\n    {\n      id: uuid(),\n      name: '5. 詹妮弗康纳利'\n    },\n    {\n      id: uuid(),\n      name: '6. 朱迪福斯特'\n    }\n  ]);\n\n\n  return (\n    <div className=\"list-container\">\n      <button\n        className=\"list-button\"\n        onClick={() => {\n          const str = window.prompt('添加一个你喜欢的明星')\n          if (str) {\n            setList(prev => [...prev, {\n              name: str,\n              id: uuid(),\n            }])\n          }\n        }}\n      >添加</button>\n      <button\n        className=\"list-button\"\n        onClick={() => {\n          setList((prev) => [...shuffle(prev)]);\n        }}\n      >乱序</button>\n      <TransitionFLIPS\n        wrapClassName=\"list\"\n        duration={600}\n        transitionStyles={{\n          leave: {\n            opacity: 0\n          },\n          leaveing: {\n            opacity: 0,\n            transform: `translateX(50px)`,\n          },\n          enter: {\n            opacity: 1,\n          },\n          entering: {\n            opacity: 1,\n          }\n        }}\n      >\n        {\n          list && list.map((li) => {\n            return (\n              <TransitionFLIP\n                flipId={li.id}\n                key={li.id}>\n                <div className=\"list-item\">\n                  <span>{ li.name }</span>\n                  <span onClick={() => {\n                    setList((prev) => {\n                      return [...prev.filter(item => item.id !== li.id)]\n                    })\n                  }}>删除</span>\n                </div>\n              </TransitionFLIP>\n            )\n          })\n        }\n      </TransitionFLIPS>\n    </div>\n  )\n}\n\nexport default TodoList;\n","import React from 'react';\nimport {\n  Link,\n} from \"react-router-dom\";\nimport './index.css';\n\nconst Home = () => {\n  return (\n    <div className=\"home-container\">\n      <ul>\n        <li>\n          <h1>效果预览:</h1>\n        </li>\n        <li>\n          <Link to=\"/matrix\">多维网格</Link>\n        </li>\n        <li>\n          <Link to=\"/list\">列表</Link>\n        </li>\n        <li>\n          <Link to=\"/staggered\">交错效果(开发中)</Link>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport default Home;\n","const noop = () => {};\n\nexport default noop;\n","export const isFunc = (fn) => {\n  return Object.prototype.toString.call(fn) === '[object Function]';\n};\n\nexport const isObj = (obj) => {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n};\n\nexport const isNum = (num) => {\n  return Object.prototype.toString.call(num) === '[object Number]';\n};\n\nexport const isNull = (data) => {\n  return Object.prototype.toString.call(data) === '[object Null]';\n};\n\nexport const isUnd = (data) => {\n  return Object.prototype.toString.call(data) === '[object Undefined]';\n};\n","import * as React from 'react';\nimport {\n  useState,\n  useRef,\n  useCallback,\n  useEffect,\n} from 'react';\nimport {\n  isUnd,\n} from './util/checkType';\n\nexport const TransitionContext = React.createContext({\n  animations: {},\n  register: (props) => {},\n});\n\nconst TransitionGroup = (props) => {\n\n  const {\n    animation = false,\n    interval = 100,\n    children,\n  } = props;\n\n  const [animations, setAnimations] = useState({});\n  const animationsRef = useRef(new Map());\n  const register = useCallback((props) => {\n    const { ID } = props;\n    if (!isUnd(ID)) {\n      animationsRef.current.set(ID, props)\n    }\n  }, []);\n\n  useEffect(() => {\n    let counter = 0;\n    const transition = [...animationsRef.current.values()] || [];\n    const animationsTemp = {};\n    (animation ? transition : [...transition.reverse()]).forEach((t) => {\n      const { ID } = t;\n      if (!isUnd(ID)) {\n        animationsTemp[ID] = {\n          delay: counter * interval,\n          animation,\n        };\n        counter += 1;\n      }\n    });\n    setAnimations(animationsTemp);\n  }, [animation]);\n\n  return (\n    <TransitionContext.Provider value={{\n      animations,\n      register,\n    }}>\n      { children }\n    </TransitionContext.Provider>\n  )\n}\n\nexport default TransitionGroup;\n","/* eslint-disable */\nimport * as React from 'react';\nimport {\n  useState,\n  useRef,\n  useEffect,\n} from 'react';\nimport {\n  isFunc,\n} from './util/checkType';\nimport {\n  STATUS,\n} from './Transition';\n\n\nfunction getProps(p1, p2) {\n  if (p1 === undefined) {\n    return p2;\n  }\n  return p1;\n}\n\nexport const TransitionQueueContext = React.createContext({});\n\nconst TransitionQueue = (props) => {\n\n  const {\n    children: _children,\n    enter,\n    leave,\n    appear,\n    wrap = '',\n    wrapClassName = '',\n  } = props;\n\n  const mergeMap = (prev, next) => {\n    prev = prev || {};\n    next = next || {};\n    function getValueForKey(key) {\n      return key in next ? next[key] : prev[key];\n    }\n    let nextKeysPending = Object.create(null);\n    let pendingKeys = [];\n    for (let prevKey in prev) {\n      if (prevKey in next) {\n        if (pendingKeys.length) {\n          nextKeysPending[prevKey] = pendingKeys;\n          pendingKeys = [];\n        }\n      } else {\n        pendingKeys.push(prevKey);\n      }\n    }\n    let i;\n    let childMapping = {};\n    for (let nextKey in next) {\n      if (nextKeysPending[nextKey]) {\n        for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n          let pendingNextKey = nextKeysPending[nextKey][i];\n          childMapping[pendingNextKey] = getValueForKey(\n            pendingNextKey\n          );\n        }\n      }\n      childMapping[nextKey] = getValueForKey(nextKey);\n    }\n    for (i = 0; i < pendingKeys.length; i++) {\n      childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n    }\n    return childMapping;\n  };\n\n  const getMap = (\n    children,\n    callback,\n  ) => {\n    const map = Object.create(null);\n    if (children) {\n      React.Children.map(children, c => c)?.forEach((child) => {\n        const key = (child).key || '';\n        if (key) {\n          if (React.isValidElement(child) && isFunc(callback)) {\n            map[key] = callback(child);\n          } else {\n            map[key] = child;\n          }\n        }\n      });\n    }\n    return map;\n  };\n\n  const initChildren = (\n    children,\n  ) => {\n    return getMap(children, (child) => {\n      const props = ((child)?.props);\n      return React.cloneElement(child, {\n        animation: true,\n        appear: getProps(appear, props.appear),\n        enter: getProps(enter, props.enter),\n        leave: getProps(leave, props.leave),\n        onLeave: () => {\n          const key = (child).key || '';\n          handleLeave(key);\n        },\n      });\n    });\n  };\n\n  const nextChildren = (\n    nextChildren,\n    prevChildrenMap,\n  ) => {\n    const nextChildrenMap = getMap(nextChildren);\n    const children = mergeMap(prevChildrenMap, nextChildrenMap);\n    Object.keys(children).forEach(key => {\n      const child = children[key];\n      if (!React.isValidElement(child)) {\n        return;\n      }\n      const hasKeyByNew = nextChildrenMap[key] !== undefined;\n      const hasKeyByPrev = prevChildrenMap[key] !== undefined;\n      const isNew = hasKeyByNew && !hasKeyByPrev;\n      const isDelete = !hasKeyByNew && hasKeyByPrev;\n      const isNeverChange = hasKeyByNew && hasKeyByPrev;\n      const prevProps = ((prevChildrenMap[key])?.props);\n      const nextProps = ((nextChildrenMap[key])?.props);\n      if (isNew) {\n        children[key] = React.cloneElement(child, {\n          animation: true,\n          appear: getProps(appear, nextProps.appear),\n          enter: getProps(enter, nextProps.enter),\n          leave: getProps(leave, nextProps.leave),\n          onLeave: () => {\n            const key = (child).key || '';\n            handleLeave(key);\n          },\n        });\n      } else if (isDelete) {\n        children[key] = React.cloneElement(child, {\n          animation: false,\n        });\n      } else if (isNeverChange) {\n        children[key] = React.cloneElement(child, {\n          animation: prevProps.animation,\n          appear: prevProps.appear,\n          enter: prevProps.enter,\n          leave: prevProps.leave,\n          onLeave: () => {\n            const key = (child).key || '';\n            handleLeave(key);\n          },\n        });\n      }\n    });\n    return children;\n  };\n\n  const handleLeave = (key) => {\n    setChildren((prevChildren) => {\n      if (key in prevChildren) {\n        delete prevChildren[key];\n      }\n      return { ...prevChildren };\n    });\n  };\n\n  const firstMount = useRef(true);\n  const [children, setChildren] = useState>(() => {\n    return initChildren(_children);\n  });\n\n  useEffect(() => {\n    if (!firstMount.current) {\n      setChildren(nextChildren(_children, children));\n    } else {\n      firstMount.current = false;\n    }\n  }, [_children]);\n\n  const childNode = Object.values(children);\n\n  if (wrap) {\n    const wrapChildNode = React.createElement(wrap, {\n      className: wrapClassName,\n    }, childNode);\n\n    return (\n      <TransitionQueueContext.Provider value={{\n        _initStatus: STATUS['UNMOUNTED'],\n      }}>\n        { wrapChildNode }\n      </TransitionQueueContext.Provider>\n    );\n  }\n\n  return (\n    <TransitionQueueContext.Provider value={{\n      _initStatus: STATUS['UNMOUNTED'],\n    }}>\n      { childNode }\n    </TransitionQueueContext.Provider>\n  );\n}\n\nexport default TransitionQueue;\n","import * as React from 'react';\nimport {\n  useState,\n  useRef,\n  useEffect,\n  useContext,\n} from 'react';\nimport noop from './util/noop';\nimport {\n  isObj,\n  isNum,\n  isUnd,\n  isFunc,\n} from './util/checkType';\nimport { TransitionContext } from './TransitionGroup';\nimport { TransitionQueueContext } from './TransitionQueue';\nimport { v4 as uuid } from 'uuid';\n\nconst defaultDuration = 200;\nconst defaultDelay = 0;\n\nexport const STATUS = {\n  UNMOUNTED: 'unmounted',\n  ENTER: 'enter',\n  ENTERING: 'entering',\n  LEAVE: 'leave',\n  LEAVEING: 'leaveing',\n}\n\nconst Transition = (props) => {\n  const {\n    display = false,\n    timingFunction = 'ease-in-out',\n    duration: _duration = defaultDuration,\n    delay: _delay = defaultDelay,\n    unmount = false,\n    animation: _animation = false,\n    enter = true,\n    leave = true,\n    appear = true,\n    children,\n    transitionStyles = {\n      entering: { opacity: 1 },\n      enter: { opacity: 1 },\n      leaveing: { opacity: 0 },\n      leave: { opacity: 0 },\n    },\n    onLeave = noop,\n    onEnter = noop,\n  } = props;\n\n  const { register, animations } = useContext(TransitionContext);\n  const { _initStatus } = useContext(TransitionQueueContext);\n  const [animation, setAnimation] = useState(_animation);\n  const firstMount = useRef(true);\n  const nextStatus = useRef(null);\n  const prevStatus = useRef(null);\n  const timer = useRef(0);\n  const ID = useRef(uuid());\n  const [status, setStatus] = useState(() => {\n    let initStatus;\n    if (_initStatus) {\n      return _initStatus;\n    }\n    if (animation) {\n      if (appear) {\n        initStatus = STATUS['LEAVE'];\n        nextStatus.current = STATUS['ENTERING'];\n      } else {\n        initStatus = STATUS['ENTER'];\n      }\n    } else {\n      if (unmount) {\n        initStatus = STATUS['UNMOUNTED'];\n      } else {\n        initStatus = STATUS['LEAVE'];\n      }\n    }\n    return initStatus;\n  });\n  const [duration] = useState(() => {\n    let enter = defaultDuration;\n    let leave = defaultDuration;\n    if (isObj(_duration)) {\n      enter = isNum(_duration.enter) ? _duration.enter : defaultDuration;\n      leave = isNum(_duration.leave) ? _duration.leave : defaultDuration;\n    }\n    if (isNum(_duration)) {\n      enter = leave = _duration;\n    }\n    return {\n      enter,\n      leave,\n    };\n  });\n  const [delay, setDelay] = useState(_delay);\n  const [displayStyles, setDisplayStyles] = useState({});\n\n  const handleTransitionTime = (\n    time,\n    callback,\n  ) => {\n    let timer = 0;\n    callback = isFunc(callback) ? callback : noop;\n    if (isNum(time)) {\n      timer = setTimeout(callback, time);\n    } else {\n      timer = setTimeout(callback, 0);\n    }\n    return timer;\n  }\n\n  const handleEnter = () => {\n    // 不需要执行入场动画\n    if (!enter) {\n      setStatus(STATUS['ENTER']);\n    } else {\n      // 入场动画开始时，需要先将其设置为display: block\n      if (isObj(display) && display.enter) {\n        setDisplayStyles({\n          ...display.enter,\n        });\n      }\n      if (\n        prevStatus.current === STATUS['UNMOUNTED']\n      ) {\n        // 如果之前的状态为UNMOUNTED，或者之前的style为display：none 需要等待dom渲染完毕\n        handleTransitionTime(16, () => {\n          setStatus(STATUS['ENTERING']);\n          prevStatus.current = null;\n        });\n      } else {\n        if (isObj(display) && display.enter) {\n          handleTransitionTime(16, () => {\n            setStatus(STATUS['ENTERING']);\n          });\n        } else {\n          setStatus(STATUS['ENTERING']);\n        }\n      }\n    }\n  };\n\n  const handleLeave = () => {\n    // 不需要执行出场动画\n    if (!leave) {\n      setStatus(STATUS['LEAVE']);\n    } else {\n      setStatus(STATUS['LEAVEING']);\n    }\n  };\n\n  const updateStatus = (\n    nextStatus,\n  ) => {\n    if (nextStatus) {\n      if (nextStatus === STATUS['ENTERING']) {\n        handleEnter();\n      } else {\n        handleLeave();\n      }\n    } else {\n      // 如果已经是LEAVE状态了，并且unmount设置为true，更新状态为UNMOUNTED\n      if (unmount && status === STATUS['LEAVE']) {\n        setStatus(STATUS['UNMOUNTED']);\n      }\n    }\n  };\n\n  useEffect(() => {\n    register({ ...props, ID: ID.current });\n    updateStatus(nextStatus.current);\n  }, []);\n\n  useEffect(() => {\n    switch (status) {\n      case STATUS['ENTERING']:\n        let milliseconds = 0;\n        if (!unmount) {\n          milliseconds = duration.enter + delay;\n        } else {\n          milliseconds = duration.enter;\n        }\n        milliseconds = duration.enter + delay;\n        timer.current = handleTransitionTime(milliseconds, () => {\n          setStatus(STATUS['ENTER']);\n        });\n        break;\n      case STATUS['LEAVEING']:\n        timer.current = handleTransitionTime(duration.leave + delay, () => {\n          setStatus(STATUS['LEAVE']);\n        });\n        break;\n      case STATUS['LEAVE']:\n        if (!animation && !firstMount.current) {\n          // 第一次不触发onLeave的钩子\n          onLeave();\n        }\n        if (isObj(display) && display.leave) {\n          setDisplayStyles({\n            ...display.leave,\n          });\n        }\n        break;\n      case STATUS['ENTER']:\n        if (animation) {\n          onEnter();\n        }\n        break;\n    }\n    return () => {\n      clearTimeout(timer.current);\n    }\n  }, [status]);\n\n  useEffect(() => {\n    if (animation) {\n      // 为了在UNMOUNTED时开启动画效果，需要先将状态设置为LEAVE\n      if (status === STATUS['UNMOUNTED']) {\n        handleTransitionTime(delay, () => {\n          prevStatus.current = STATUS['UNMOUNTED'];\n          setStatus(STATUS['LEAVE']);\n        });\n      }\n    }\n  }, [animation, status]);\n\n  useEffect(() => {\n    if (!firstMount.current) {\n      let nextStatus = null;\n      if (animation) {\n        if (\n          status !== STATUS['ENTERING'] &&\n          status !== STATUS['ENTER'] &&\n          (\n            status === STATUS['LEAVE'] ||\n            status === STATUS['LEAVEING']\n          )\n        ) {\n          nextStatus = STATUS['ENTERING'];\n        }\n      } else {\n        if (\n          status === STATUS['ENTERING'] ||\n          status === STATUS['ENTER']\n        ) {\n          nextStatus = STATUS['LEAVEING'];\n        }\n      }\n      updateStatus(nextStatus);\n    } else {\n      firstMount.current = false;\n    }\n  }, [animation, status]);\n\n  useEffect(() => {\n    setAnimation(_animation);\n  }, [_animation]);\n\n  useEffect(() => {\n    if (!isUnd(ID.current) && !isUnd(animations[ID.current])) {\n      const {\n        animation = false,\n        delay = defaultDelay,\n      } = animations[ID.current];\n      setAnimation(animation);\n      setDelay(delay);\n    }\n  }, [animations]);\n\n  if (status === STATUS['UNMOUNTED']) {\n    return null;\n  }\n\n  let statusStyles = transitionStyles[status] || {};\n  const transitionStyle = {\n    transition: `all ${animation ? duration.enter : duration.leave}ms ${timingFunction} ${delay}ms`,\n  };\n  const prevStyles = children?.props?.style || {};\n  statusStyles = {\n    ...prevStyles,\n    ...statusStyles,\n    ...transitionStyle,\n  };\n  if (status === STATUS['ENTER']) {\n    if (statusStyles['transition']) {\n      delete statusStyles['transition'];\n    }\n  }\n\n  return React.cloneElement(React.Children.only(children), {\n    style: {\n      ...statusStyles,\n      ...displayStyles,\n    },\n  })\n};\n\nexport default Transition;\n","/* eslint-disable */\nimport * as React from 'react';\nimport {\n  useState,\n  useRef,\n  useEffect,\n} from 'react';\nimport {\n  isFunc,\n} from './util/checkType';\n\nexport const FLIPSContext = React.createContext({\n  catchStyles: new Map(),\n  catchAnimations: new Map(),\n  animationOption: {},\n});\n\n\nconst TransitionFLIPS = (props) => {\n\n  const {\n    delay = 0,\n    duration = 200,\n    inOutDuration = 200,\n    easing = 'linear',\n    fill = 'auto',\n    wrap = 'div',\n    wrapClassName = '',\n    transitionStyles = {\n      entering: { opacity: 1 },\n      enter: { opacity: 1 },\n      leaveing: { opacity: 0 },\n      leave: { opacity: 0 },\n    },\n    children: _children,\n    staggerReverse = true,\n    interval = 150,\n  } = props;\n\n  const handleLeave = (key) => {\n    setChildren((prevChildren) => {\n      if (key in prevChildren) {\n        delete prevChildren[key];\n      }\n      return { ...prevChildren };\n    });\n  };\n\n  const mergeMap = (prev, next) => {\n    prev = prev || {};\n    next = next || {};\n    function getValueForKey(key) {\n      return key in next ? next[key] : prev[key];\n    }\n    let nextKeysPending = Object.create(null);\n    let pendingKeys = [];\n    for (let prevKey in prev) {\n      if (prevKey in next) {\n        if (pendingKeys.length) {\n          nextKeysPending[prevKey] = pendingKeys;\n          pendingKeys = [];\n        }\n      } else {\n        pendingKeys.push(prevKey);\n      }\n    }\n    let i;\n    let childMapping = {};\n    for (let nextKey in next) {\n      if (nextKeysPending[nextKey]) {\n        for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n          let pendingNextKey = nextKeysPending[nextKey][i];\n          childMapping[pendingNextKey] = getValueForKey(\n            pendingNextKey\n          );\n        }\n      }\n      childMapping[nextKey] = getValueForKey(nextKey);\n    }\n    for (i = 0; i < pendingKeys.length; i++) {\n      childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n    }\n    return childMapping;\n  };\n\n  const getMap = (\n    children,\n    callback\n  ) => {\n    const map = Object.create(null);\n    if (children) {\n      const childs = React.Children.map(children, c => c);\n      const total = childs?.length;\n      // 如果没有手动添加key, React.Children.map会自动添加key\n      childs?.forEach((child, index) => {\n        const key = (child).key || '';\n        if (key) {\n          if (React.isValidElement(child) && isFunc(callback)) {\n            map[key] = callback(child, index, total);\n          } else {\n            map[key] = child;\n          }\n        }\n      });\n    }\n    return map;\n  };\n\n  const initChildren = (\n    children,\n  ) => {\n    return getMap(children, (child, index, total) => {\n      return React.cloneElement(child, {\n        _index: index,\n        _total: total,\n        _duration: inOutDuration,\n        _transitionStyles: transitionStyles,\n        _animation: true,\n        _interval: interval,\n        _reverse: staggerReverse,\n        _onLeave: () => {\n          const key = (child).key || '';\n          handleLeave(key);\n        },\n      });\n    });\n  };\n\n  const nextChildren = (\n    nextChildren,\n    prevChildrenMap,\n  ) => {\n    const nextChildrenMap = getMap(nextChildren);\n    const children = mergeMap(prevChildrenMap, nextChildrenMap);\n    const keys = Object.keys(children);\n    const total = keys.length;\n    keys.forEach((key, index) => {\n      const child = children[key];\n      if (!React.isValidElement(child)) {\n        return;\n      }\n      const hasKeyByNew = nextChildrenMap[key] !== undefined;\n      const hasKeyByPrev = prevChildrenMap[key] !== undefined;\n      const isNew = hasKeyByNew && !hasKeyByPrev;\n      const isDelete = !hasKeyByNew && hasKeyByPrev;\n      const isNeverChange = hasKeyByNew && hasKeyByPrev;\n      const prevProps = ((prevChildrenMap[key])?.props);\n      if (isNew) {\n        children[key] = React.cloneElement(child, {\n          _transitionStyles: transitionStyles,\n          _duration: inOutDuration,\n          _animation: true,\n          _index: index,\n          _total: total,\n          _interval: interval,\n          _reverse: staggerReverse,\n          _onLeave: () => {\n            const key = (child).key || '';\n            handleLeave(key);\n          },\n        });\n      } else if (isDelete) {\n        children[key] = React.cloneElement(child, {\n          _index: index,\n          _total: total,\n          _interval: interval,\n          _reverse: staggerReverse,\n          _animation: false,\n        });\n      } else if (isNeverChange) {\n        children[key] = React.cloneElement(child, {\n          _animation: prevProps._animation,\n          _duration: prevProps._duration,\n          _index: index,\n          _total: total,\n          _interval: interval,\n          _reverse: staggerReverse,\n          _transitionStyles: prevProps._transitionStyles,\n          _onLeave: () => {\n            const key = (child).key || '';\n            handleLeave(key);\n          },\n        });\n      }\n    });\n    return children;\n  };\n\n  const firstMount = useRef(true);\n  const [children, setChildren] = useState(() => {\n    return initChildren(_children);\n  });\n  const catchStyles = useRef(new Map()).current;\n  const catchAnimations = useRef(new Map()).current;\n  const animationOption = {\n    delay,\n    duration,\n    easing,\n    fill,\n  };\n\n  useEffect(() => {\n    if (!firstMount.current) {\n      setChildren(nextChildren(_children, children));\n    } else {\n      firstMount.current = false;\n    }\n  }, [_children]);\n\n  const childNode = Object.values(children);\n\n  const wrapChildNode = React.createElement(wrap, {\n    className: wrapClassName,\n  }, childNode);\n\n  return (\n    <FLIPSContext.Provider value={{\n      catchStyles,\n      catchAnimations,\n      animationOption,\n    }}>\n      { wrapChildNode }\n    </FLIPSContext.Provider>\n  );\n}\n\nexport default TransitionFLIPS;\n","const getRect = (ele) => {\n  return ele.getBoundingClientRect();\n};\n\nexport default getRect;\n","const getX = (prevRect, nextRect) => {\n  return prevRect.x - nextRect.x;\n};\n\nexport default getX;\n","const getY = (prevRect, nextRect) => {\n  return prevRect.y - nextRect.y;\n};\n\nexport default getY;\n","const getW = (prevRect, nextRect) => {\n  const nextWidth = nextRect.width === 0 ? 0.001 : nextRect.width;\n  return prevRect.width / nextWidth;\n};\n\nexport default getW;\n","const getH = (prevRect, nextRect) => {\n  const nextHeight = nextRect.height === 0 ? 0.001 : nextRect.height;\n  return prevRect.height / nextHeight;\n};\n\nexport default getH;\n","const getParent = (el) => {\n  return el.parentNode;\n};\n\nexport default getParent;\n","const getStyles = (el) => {\n  const styls = window.getComputedStyle(el);\n  return {\n    backgroundColor: styls.backgroundColor,\n  };\n};\n\nexport default getStyles;\n","const createAnimation = (\n  ele,\n  keyframes,\n  options\n) => {\n  const effect = new KeyframeEffect(ele, keyframes, options);\n  return new Animation(effect, document.timeline);\n};\n\nexport default createAnimation;\n","import * as React from 'react';\nimport {\n  useRef,\n  useContext,\n  useEffect,\n  useLayoutEffect,\n} from 'react';\nimport Transition from './Transition';\nimport { FLIPSContext } from './TransitionFLIPS';\nimport getRect from './util/getReact';\nimport getX from './util/getX';\nimport getY from './util/getY';\nimport getW from './util/getW';\nimport getH from './util/getH';\nimport getParent from './util/getParent';\nimport getStyles from './util/getStyles';\nimport createAnimation from './util/createAnimation';\n\nconst TransitionFLIP = (props) => {\n\n  const {\n    _onLeave: onLeave,\n    _animation: animation,\n    _transitionStyles: transitionStyles,\n    _duration: duration,\n    _index: index,\n    _total: total,\n    _reverse: reverse,\n    _interval: interval,\n    flipId,\n    children,\n  } = props;\n\n  const {\n    catchStyles,\n    catchAnimations,\n    animationOption,\n  } = useContext(FLIPSContext);\n\n  const selfRef = useRef(null);\n  const firstMount = useRef(true);\n  const FLIPID = useRef(flipId);\n\n  const force = () => {\n    const flipEle = selfRef.current;\n    const catchAnimation = catchAnimations.get(FLIPID.current);\n    if (\n      flipEle &&\n      catchAnimation\n    ) {\n      if (\n        catchAnimation.playState === 'running' &&\n        (catchAnimation)._isPlayed\n      ) {\n        const parent = getParent(flipEle);\n        const parentRect = getRect(parent);\n        // 基于父级进行计算\n        const rect = getRect(flipEle);\n        const styles = getStyles(flipEle);\n        rect.x = parentRect.x - rect.x;\n        rect.y = parentRect.y - rect.y;\n        catchStyles.set(FLIPID.current, {\n          rect,\n          styles,\n        });\n        (catchAnimation)._isPlayed = false;\n        catchAnimation.finish();\n      }\n    }\n  }\n\n  force();\n\n  useEffect(() => {\n    const flipEle = selfRef.current;\n    if (flipEle) {\n      const parent = getParent(flipEle);\n      const parentRect = getRect(parent);\n      const rect = getRect(flipEle);\n      const styles = getStyles(flipEle);\n      // 基于父级元素的\n      rect.x = parentRect.x - rect.x;\n      rect.y = parentRect.y - rect.y;\n      catchStyles.set(FLIPID.current, {\n        rect,\n        styles,\n      });\n    }\n  }, [catchStyles]);\n\n  useLayoutEffect(() => {\n    if (firstMount.current) {\n      firstMount.current = false;\n    } else {\n      const flipEle = selfRef.current;\n      if (flipEle) {\n        const catchRect = catchStyles.get(FLIPID.current);\n        const pbc = catchRect?.styles.backgroundColor;\n        const parent = getParent(flipEle);\n        const parentRect = getRect(parent);\n        const nextRect = getRect(flipEle);\n        const styles = getStyles(flipEle);\n        const cbc = styles.backgroundColor;\n        // 基于父级元素的\n        nextRect.x = parentRect.x - nextRect.x;\n        nextRect.y = parentRect.y - nextRect.y;\n        const x = getX(nextRect, catchRect?.rect);\n        const y = getY(nextRect, catchRect?.rect);\n        const w = getW(catchRect?.rect, nextRect);\n        const h = getH(catchRect?.rect, nextRect);\n        // 更新缓存\n        catchStyles.set(FLIPID.current, {\n          rect: nextRect,\n          styles,\n        });\n        if (x === 0 && y === 0 && w === 1 && h === 1 && pbc === cbc) {\n          return;\n        }\n        let staggerDelay = 0;\n        // 正序，倒序计算不一样\n        if (reverse) {\n          staggerDelay = ((total) - (index + 1)) * (interval);\n        } else {\n          staggerDelay = (index) * (interval);\n        }\n        const animationKeyframes = [\n          {\n            transform: `translate(${x}px, ${y}px) scale(${w}, ${h})`,\n            backgroundColor: pbc,\n          },\n          {\n            transform: `translate(0, 0) scale(1, 1)`,\n            backgroundColor: cbc,\n          },\n        ];\n        let prevTransformStyle = window.getComputedStyle(flipEle).transform;\n        flipEle.style.transform = animationKeyframes[0].transform;\n        const animationOptions = animationOption;\n        animationOptions.delay = staggerDelay;\n        const animation = createAnimation(flipEle, animationKeyframes, animationOptions);\n        catchAnimations.set(FLIPID.current, animation);\n        animation.onfinish = () => {\n          flipEle.style.transform = prevTransformStyle;\n        };\n        animation.play();\n        // _isPlayed 标示符，解决多次force的问题\n        (animation)._isPlayed = true;\n      }\n    }\n  });\n\n  const child =  React.cloneElement(React.Children.only(children), {\n    ref: selfRef\n  });\n\n  return (\n    <Transition\n      animation={animation}\n      onLeave={onLeave}\n      onEnter={() => {\n        // 入场完成后强制更新一次缓存\n        const flipEle = selfRef.current;\n        if (flipEle) {\n          const parent = getParent(flipEle);\n          const parentRect = getRect(parent);\n          const rect = getRect(flipEle);\n          const styles = getStyles(flipEle);\n          rect.x = parentRect.x - rect.x;\n          rect.y = parentRect.y - rect.y;\n          catchStyles.set(FLIPID.current, {\n            rect,\n            styles,\n          });\n        }\n      }}\n      duration={duration}\n      transitionStyles={transitionStyles}\n    >\n      { child }\n    </Transition>\n  );\n};\n\nexport default TransitionFLIP;\n","import React, {\n  useState,\n} from 'react';\nimport TransitionFLIP from '../../temp/TransitionFLIP'\nimport TransitionFLIPS from '../../temp/TransitionFLIPS'\nimport { v4 as uuid } from 'uuid';\nimport './index.css'\n\nconst Staggered = () => {\n\n  const [focus, setFocus] = useState('');\n  const [list] = useState([uuid(), uuid(), uuid(), uuid(), uuid(), uuid()])\n\n  return (\n    <div className=\"staggered-container\">\n      <h1 style={{\n        marginBottom: 10,\n      }}>随意点击一个元素，实现交错效果（目前开发之中，存在很多问题，暂不可用）</h1>\n      <TransitionFLIPS\n        interval={150}\n        duration={500}\n        staggerReverse={focus ? true : false}\n      >\n        {\n          list && list.map((item) => {\n            return (\n              <TransitionFLIP flipId={item} key={item}>\n                <div className={focus === item ? 'staggered-item-active staggered-item' : 'staggered-item'} onClick={() => {\n                  setFocus(focus === item ? '' : item);\n                }}></div>\n              </TransitionFLIP>\n            )\n          })\n        }\n      </TransitionFLIPS>\n    </div>\n  )\n}\n\nexport default Staggered;\n","import React from 'react';\nimport './App.css';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Matrix from './page/Matrix';\nimport TodoList from './page/TodoList';\nimport Home from './page/Home';\nimport Staggered from './page/Staggered';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/matrix\">\n            <Matrix />\n          </Route>\n          <Route exact path=\"/list\">\n            <TodoList />\n          </Route>\n          <Route exact path=\"/staggered\">\n            <Staggered />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}